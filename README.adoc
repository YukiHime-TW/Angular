= Angular

== 簡介
**Angular** 是一個基於 **TypeScript** 的開源前端框架，由 **Google** 開發，用於構建 Web 應用程式。包含以下內容：

* **一個元件化的框架** +
* **一整套深思熟慮整合出的函式庫**，提供路由機制、表單管理、Client/Server 通訊等功能 +
* **一組完善的開發工具**，幫助開發、建置、測試、更新程式碼

== 安裝前置作業
在本地端開發 Angular 應用程式前，您需要安裝：

* **Node.js** +
Angular 需要 **Node.js** 的最新版本或 **LTS** 版本進行開發。可以在 CMD 中輸入 `node -v` 檢查安裝是否成功。 +
https://nodejs.org/zh-tw/download/prebuilt-installer[Node.js 下載]

* **npm 套件管理器** +
Angular、Angular CLI 和應用程式依賴 **npm** 套件管理器進行管理。**npm** 是 **Node.js** 的套件管理工具，與 **Node.js** 一同安裝。可以在 CMD 中輸入 `npm -v` 檢查安裝是否成功。

== 安裝 Angular CLI
使用 **npm** 安裝 **Angular CLI**：

[source,shell]
----
npm install -g @angular/cli
----

== 常用指令
安裝完成後，可以使用 `ng` 命令來建立、建置、測試和啟動 Angular 應用程式。

[cols="1,3", options="header"]
|===
| 命令 | 描述

| https://angular.dev/cli/build[`ng build --prod`]
| **編譯 Angular 專案為生產環境版本，包含優化與縮小檔案大小**

| https://angular.dev/cli/serve[`ng serve --open`]
| **建構應用程式並啟動開發伺服器，並自動在瀏覽器中開啟應用程式**

| https://angular.dev/cli/generate#component-command[`ng generate component my-component`]
| **生成一個新的元件 `my-component`**

| https://angular.dev/cli/test[`ng test --watch=false`]
| **執行單元測試並在測試完成後退出**

| https://angular.dev/cli/e2e[`ng e2e --protractor-config=e2e/protractor.conf.js`]
| **使用指定的 Protractor 配置檔案執行端到端測試**
|===

=== 補充: Protractor
**Protractor** 是一個專為 **Angular** 設計的端到端測試框架，基於 **Selenium WebDriver**。

=== 補充: Selenium WebDriver
**Selenium WebDriver** 是一個自動化網頁應用測試工具，允許透過程式控制瀏覽器來執行與使用者相似的操作。

=== 補充: 端到端測試
**端到端測試**模擬真實用戶操作，確保應用程式的整體功能正常運作。

== 建立新專案
使用 `ng new` 命令建立新的 **Angular** 專案：

[source,shell]
----
ng new my-app
----

這將在當前目錄下建立一個名為 **`my-app`** 的新專案。

== 啟動開發伺服器
進入新專案目錄並啟動開發伺服器：

[source,shell]
----
cd my-app
ng serve --open
----

這會啟動開發伺服器並自動在瀏覽器中打開應用程式。

== Angular 專案目錄結構

[source,shell]
----
my-app/
├── e2e/
├── node_modules/
├── src/
│   ├── app/
│   │   ├── app.component.html
│   │   ├── app.component.ts
│   │   ├── app.module.ts
│   │   └── app.component.css
│   ├── assets/
│   ├── environments/
│   ├── index.html
│   ├── main.ts
│   ├── polyfills.ts
│   ├── styles.css
│   └── ...
├── .editorconfig
├── .gitignore
├── angular.json
├── package.json
├── tsconfig.json
├── tslint.json
└── ...
----

* **`e2e/`**: 端到端測試相關文件
* **`node_modules/`**: npm 安裝的套件
* **`src/`**: 應用程式源代碼
* **`src/app/`**: 應用元件、服務、模組等 +
    . **`app.module.ts`**: 列出專案使用的所有檔案，專案的中央樞紐
    . **`app.component.ts`**: 元件類別，內含主要邏輯
    . **`app.component.html`**: 元件模板，定義畫面結構
    . **`app.component.css`**: 元件樣式
* **`src/assets/`**: 靜態資源文件
* **`src/environments/`**: 環境配置文件
* **`src/index.html`**: 應用程式入口
* **`src/main.ts`**: 應用程式入口
* **`src/polyfills.ts`**: 支援不同瀏覽器的 polyfills
* **`src/styles.css`**: 全域樣式表
* **`.editorconfig`**: 編輯器配置文件
* **`.gitignore`**: Git 忽略文件
* **`angular.json`**: Angular CLI 配置文件
* **`package.json`**: npm 配置文件
* **`tsconfig.json`**: TypeScript 配置文件
* **`tslint.json`**: TypeScript lint 配置文件

== Angular 專案結構
**Angular** 基於 **TypeScript** 開發，應用程式由 **元件 (Component)** 組成。每個元件包含 **HTML 模板**、**CSS 樣式**和帶有 `@Component()` 裝飾器的 **TypeScript 類別**。

=== 類別 (Class)
類別裡面包含了元件的相關邏輯，例如資料處理、事件處理等。 +
類別會放在 `app.component.ts` 檔案裡，而 `app` 就是元件的名稱。 +
當建立一個元件時，他會帶有 `@Component()` 裝飾器，裡面會有檔案的路徑指向，告訴Angular要去哪裡找HTML模板和CSS樣式。 +
一個元件的基本寫法如下：

[source,typescript]
----
import { Component } from "@angular/core";

@Component({
    selector: "app-item",
    // 接下來的檔案路徑會指出其它檔案在什麼位置
    templateUrl: "./item.component.html",
    styleUrls: ["./item.component.css"],
})
export class ItemComponent {
    // 程式碼寫在這裡
}
----

這個元件被稱為 `ItemComponent`，他的選擇器是 `app-item` 。 +
選擇器就像是HTML的標籤，可以把他放到其他的模板裡。 +
當瀏覽器渲染到選擇器時，就會把這個元件的HTML模板和CSS樣式一起渲染出來。

Angular 的元件具備高度封裝性，讓專案結構看起來更直覺。 而 Angular 的元件也讓專案更易於做單元測試、讓程式碼更易於解讀。

==== Angular怎麼讓元件具備高度封裝性的?



=== HTML模板 (Template)
